{% extends "base.html" %}

{% block styles %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
{% endblock %}

{% block content %}
<h1>
    {% if form.id.data != None %}
    Edit Book: {{ book.title }}
    {% else %}
    Add new Book
    {% endif %}
</h1>
<form method="POST" enctype="multipart/form-data" action="{{ url_for('save_book', id=book.id) }}">
    {{ form.hidden_tag() }}

    <div class="{% if form.name.errors %} form-group has-error {% else %} form-group {% endif %}">
        {{ form.name.label }} 
        {{ form.name(size=50, class_="form-control") }}
    </div>

    <div class="{% if form.author.errors %} form-group has-error {% else %} form-group {% endif %}">
        {{ form.author.label }} 
        {{ form.author(size=50, class_="form-control") }}
    </div>

    <div class="form-group">
        {{ form.url.label }} 
        {{ form.url(size=50, class_="form-control") }}
    </div>

    <div class="form-group">
        {{ form.img.label }}
        {{ form.img(class_="form-control-file") }}
    </div>

    <div class="{% if form.prix.errors %} form-group has-error {% else %} form-group {% endif %}">
        {{ form.prix.label }}
        {{ form.prix(class_="form-control") }}
    </div>

    {% if form.name.errors or form.author.errors or form.prix.errors %}
        <ul class="list-group">
            {% for field in form.errors %}
                {% for e in form[field].errors %}
                    <li class="list-group-item list-group-item-danger">{{ e }}</li>
                {% endfor %}
            {% endfor %}
        </ul>
    {% endif %}

    <input class="btn btn-default" type="submit" value="Enregistrer">
</form>
{% endblock %}